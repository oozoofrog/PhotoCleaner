# PhotoCleaner UI 디자인 원칙

> "Less, but better" - 디터 람스의 철학을 기반으로, 사용자의 소중한 추억을 안전하게 관리하는 신뢰할 수 있는 인터페이스를 설계한다.

---

## 1. 레이아웃 원칙

### 1.1 그리드 시스템

PhotoCleaner는 **8pt 기반 그리드**를 사용합니다. 모든 간격과 크기는 8의 배수로 정의합니다.

```
기본 단위: 8pt
┌────────────────────────────────────────┐
│  4pt  (xs)  - 밀접한 요소 간격         │
│  8pt  (sm)  - 관련 요소 간격           │
│  16pt (md)  - 섹션 내 요소 간격        │
│  24pt (lg)  - 섹션 간 간격             │
│  32pt (xl)  - 주요 영역 간 간격        │
│  48pt (xxl) - 화면 주요 구분           │
└────────────────────────────────────────┘
```

### 1.2 콘텐츠 영역

```
┌─────────────────────────────────────────┐
│ Safe Area Top                           │
├─────────────────────────────────────────┤
│ ← 16pt →  콘텐츠 영역  ← 16pt →        │
│                                         │
│   화면 가장자리에서 최소 16pt 여백       │
│   유지하여 터치 실수 방지               │
│                                         │
├─────────────────────────────────────────┤
│ Safe Area Bottom                        │
└─────────────────────────────────────────┘
```

### 1.3 정렬 규칙

- **텍스트**: 좌측 정렬 기본 (LTR 언어)
- **아이콘 + 텍스트**: 아이콘 좌측, 8pt 간격 후 텍스트
- **숫자/통계**: 우측 정렬 또는 중앙 정렬
- **버튼**:
  - 단일 버튼: 전체 너비 또는 중앙 정렬
  - 복수 버튼: 동일 너비로 가로 배치
- **카드 내 콘텐츠**: 좌측 정렬, 일관된 내부 여백 (16pt)

---

## 2. 시각적 계층 구조

### 2.1 Z-Index 계층

```
Layer 5: 모달/시트 (가장 높음)
Layer 4: 토스트/스낵바
Layer 3: 플로팅 액션 버튼
Layer 2: 헤더/탭바
Layer 1: 콘텐츠
Layer 0: 배경 (가장 낮음)
```

### 2.2 정보 위계 (시선 흐름)

```
1순위: 핵심 숫자/상태       → 크기 大, 색상 강조
       예: "127장" 문제 사진 개수

2순위: 카테고리/섹션 제목   → 크기 中, 볼드
       예: "다운로드 필요"

3순위: 설명/상세 정보       → 크기 小, 보조 색상
       예: "iCloud에서 가져와야 하는 사진"

4순위: 메타 정보           → 크기 最小, 회색
       예: "마지막 검사: 2분 전"
```

### 2.3 강조 방법

| 수준 | 방법 | 사용 예시 |
|-----|------|----------|
| 최상 | 색상 + 크기 + 굵기 | 총 문제 사진 개수 |
| 상 | 색상 + 굵기 | 섹션 제목, 경고 메시지 |
| 중 | 굵기만 | 리스트 항목 제목 |
| 하 | 색상만 (보조) | 부가 설명 |
| 최하 | 작은 크기 + 회색 | 타임스탬프, 메타 정보 |

---

## 3. 일관성 규칙

### 3.1 컴포넌트 일관성

#### 버튼 스타일

```swift
// Primary: 주요 액션 (파란색 배경, 흰색 텍스트)
// 사용: "스캔 시작", "삭제 확인"

// Secondary: 보조 액션 (테두리만, 파란색 텍스트)
// 사용: "취소", "나중에"

// Destructive: 위험 액션 (빨간색 배경, 흰색 텍스트)
// 사용: "영구 삭제", "모두 삭제"

// Ghost: 최소 강조 (배경 없음, 파란색 텍스트)
// 사용: "더 보기", "건너뛰기"
```

#### 카드 스타일

```
┌─────────────────────────────────────┐
│ 16pt 내부 여백                       │
│                                     │
│  모서리 둥글기: 12pt                 │
│  그림자: 미세한 그림자 (다크모드 없음) │
│  배경: secondarySystemBackground    │
│                                     │
└─────────────────────────────────────┘
```

#### 리스트 항목 스타일

```
┌─────────────────────────────────────┐
│ [아이콘] 제목                    [>] │
│         부제목 (보조 색상)           │
├─────────────────────────────────────┤
│ 최소 높이: 44pt (터치 타겟)          │
│ 구분선: 아이콘 시작점에서 시작       │
└─────────────────────────────────────┘
```

### 3.2 동작 일관성

| 제스처 | 동작 | 적용 범위 |
|--------|------|----------|
| 탭 | 선택/실행 | 모든 인터랙티브 요소 |
| 길게 탭 | 선택 모드 진입/컨텍스트 메뉴 | 사진 그리드 |
| 스와이프 좌 | 빠른 삭제 | 리스트 항목 |
| 스와이프 우 | 빠른 복구/보관 | 리스트 항목 |
| 당겨서 새로고침 | 데이터 갱신 | 스크롤 가능한 목록 |

### 3.3 네이밍 일관성

- 파일명: `PascalCase` (예: `DesignTokens.swift`)
- 타입명: `PascalCase` (예: `PhotoIssueType`)
- 변수/상수: `camelCase` (예: `primaryColor`)
- 토큰 상수: `camelCase` (예: `Spacing.md`)

---

## 4. 반응형 디자인 가이드

### 4.1 화면 크기 대응

```swift
// 크기 클래스 대응
@Environment(\.horizontalSizeClass) var horizontalSizeClass

// Compact (iPhone 세로)
// - 단일 컬럼 레이아웃
// - 사진 그리드: 3열
// - 전체 너비 버튼

// Regular (iPad, iPhone 가로)
// - 다중 컬럼 레이아웃 가능
// - 사진 그리드: 4-6열
// - 사이드바 + 콘텐츠 분리 가능
```

### 4.2 사진 그리드 반응형

```
iPhone (Compact)           iPad (Regular)
┌───┬───┬───┐              ┌───┬───┬───┬───┬───┐
│   │   │   │              │   │   │   │   │   │
├───┼───┼───┤              ├───┼───┼───┼───┼───┤
│   │   │   │              │   │   │   │   │   │
├───┼───┼───┤              ├───┼───┼───┼───┼───┤
│   │   │   │              │   │   │   │   │   │
└───┴───┴───┘              └───┴───┴───┴───┴───┘
  3열, 2pt 간격              5열, 4pt 간격
```

### 4.3 Dynamic Type 대응

```swift
// 모든 텍스트는 Dynamic Type 지원
// 고정 크기 사용 금지

// 좋은 예
Text("문제 사진")
    .font(.headline)

// 나쁜 예
Text("문제 사진")
    .font(.system(size: 17)) // Dynamic Type 무시됨
```

### 4.4 최대 글자 크기 테스트

- **AX5 (가장 큰 접근성 크기)에서 레이아웃 깨짐 확인**
- 텍스트 잘림 대신 줄바꿈 허용
- 중요 정보는 최소 2줄까지 표시 가능하도록 설계

---

## 5. 터치 타겟

### 5.1 최소 크기

```
최소 터치 타겟: 44pt x 44pt

┌──────────────────┐
│                  │
│    44pt 이상     │  ← 실제 터치 영역
│                  │
└──────────────────┘
     ↑
시각적으로 작아도 터치 영역은 충분히 확보
```

### 5.2 간격

```
인접 터치 타겟 간 최소 8pt 간격

[버튼 A]  8pt  [버튼 B]

이보다 가까우면 실수 탭 발생 위험
```

---

## 6. 다크 모드 대응

### 6.1 색상 전략

```
라이트 모드              다크 모드
────────────────────    ────────────────────
systemBackground       → systemBackground
(흰색)                   (검정에 가까운 회색)

secondaryBackground    → secondaryBackground
(밝은 회색)              (어두운 회색)

label (검정)           → label (흰색)
secondaryLabel         → secondaryLabel
(회색)                   (밝은 회색)
```

### 6.2 절대 금지

```swift
// 절대 금지: 하드코딩 색상
.foregroundColor(.black)  // 다크모드에서 안 보임
.background(Color.white)  // 다크모드에서 눈부심

// 권장: 시맨틱 색상
.foregroundStyle(.primary)
.background(Color(.systemBackground))
```

---

## 7. 애니메이션 원칙

### 7.1 기본 타이밍

| 유형 | 지속 시간 | 이징 |
|-----|----------|------|
| 마이크로 (체크, 탭 피드백) | 0.15초 | easeOut |
| 표준 (화면 전환, 확장) | 0.3초 | easeInOut |
| 강조 (주의 환기) | 0.5초 | spring |

### 7.2 Reduce Motion 대응

```swift
@Environment(\.accessibilityReduceMotion) var reduceMotion

// reduceMotion이 true일 때:
// - 슬라이드/스프링 대신 페이드 사용
// - 지속 시간 최소화 또는 즉시 전환
// - 반복 애니메이션 제거
```

---

## 8. 디자인 검증 체크리스트

새 화면/컴포넌트 구현 시 확인:

### 레이아웃
- [ ] 8pt 그리드 준수
- [ ] 콘텐츠 영역 최소 16pt 여백
- [ ] 텍스트 좌측 정렬 (특별한 경우 제외)

### 시각 계층
- [ ] 정보 우선순위에 따른 크기/색상 차등
- [ ] 핵심 정보가 시선을 먼저 끄는가

### 일관성
- [ ] 기존 버튼/카드/리스트 스타일 재사용
- [ ] 동일 제스처 = 동일 동작

### 반응형
- [ ] iPhone SE에서 깨지지 않는가
- [ ] iPad에서 공간 활용이 적절한가
- [ ] AX5 Dynamic Type에서 읽을 수 있는가

### 접근성
- [ ] 터치 타겟 44pt 이상
- [ ] VoiceOver 레이블 의미 있음
- [ ] 색상만으로 정보 전달하지 않음 (아이콘 병행)
- [ ] 다크모드에서 대비 충분

### 애니메이션
- [ ] Reduce Motion 대응
- [ ] 애니메이션 목적이 명확 (장식 아님)

---

## 참고 자료

- [Human Interface Guidelines](https://developer.apple.com/design/human-interface-guidelines/)
- [WCAG 2.1 AA 기준](https://www.w3.org/WAI/WCAG21/quickref/)
- DESIGN_PHILOSOPHY.md - 핵심 가치
- DESIGN_VOCABULARY.md - 공통 언어
