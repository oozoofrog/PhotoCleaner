# PhotoCleaner 디자인 철학

## 핵심 가치

### 1. 신뢰 (Trust)
사용자의 소중한 추억을 다루는 앱으로서, 모든 동작은 **예측 가능하고 안전**해야 한다.

- **비가역적 동작 최소화**: 삭제는 항상 "최근 삭제된 항목"으로 먼저 이동
- **명확한 확인 단계**: 중요한 동작 전 항상 사용자 확인 요청
- **실수 방지**: 위험한 동작은 추가적인 확인 단계 (예: 일괄 삭제 시 개수 표시)
- **투명한 진행 상태**: 작업 진행률과 예상 시간을 명확히 표시

### 2. 명료함 (Clarity)
복잡한 사진 분석 결과를 **누구나 이해할 수 있게** 전달한다.

- **직관적인 시각화**: 문제 유형별 명확한 아이콘과 색상 체계
- **단순한 언어**: 기술 용어 대신 일상 언어 사용
  - ❌ "iCloud 동기화 대기 중인 PHAsset"
  - ✅ "다운로드 필요한 사진"
- **한눈에 파악**: 대시보드에서 전체 상태를 즉시 확인 가능
- **단계적 공개**: 기본은 단순하게, 상세 정보는 필요시 확장

### 3. 효율 (Efficiency)
사용자의 **시간을 존중**하며, 최소한의 조작으로 목표 달성을 돕는다.

- **스마트 추천**: AI 기반 삭제 추천으로 결정 피로 감소
- **일괄 처리**: 유사 문제는 한 번에 해결
- **빠른 접근**: 자주 쓰는 기능은 최소 탭으로 접근
- **백그라운드 처리**: 무거운 작업은 백그라운드에서 진행

### 4. 제어력 (Control)
최종 결정권은 항상 **사용자에게** 있다.

- **선택적 동작**: 자동 삭제 없음, 항상 사용자 승인 필요
- **세밀한 선택**: 개별 항목 또는 그룹 단위 선택 가능
- **되돌리기**: 가능한 모든 동작에 취소 옵션 제공
- **설정 커스터마이징**: 감지 민감도, 표시 방식 등 사용자 조절 가능

---

## 시각 디자인 원칙

### 색상 체계

```
┌─────────────────────────────────────────────────────────┐
│  Primary       │  시스템 블루 - 주요 액션, 선택 상태      │
├─────────────────────────────────────────────────────────┤
│  Destructive   │  시스템 레드 - 삭제, 경고               │
├─────────────────────────────────────────────────────────┤
│  Success       │  시스템 그린 - 완료, 정상 상태          │
├─────────────────────────────────────────────────────────┤
│  Warning       │  시스템 오렌지 - 주의 필요              │
├─────────────────────────────────────────────────────────┤
│  Neutral       │  시스템 그레이 - 비활성, 보조 정보      │
└─────────────────────────────────────────────────────────┘
```

### 문제 유형별 시각 코드

| 문제 유형 | 아이콘 | 색상 | 의미 |
|----------|--------|------|------|
| 다운로드 필요 | `icloud.and.arrow.down` | Orange | iCloud에서 가져와야 함 |
| 다운로드 실패 | `exclamationmark.icloud` | Red | 가져오기 불가능 |
| 중복 사진 | `square.on.square` | Blue | 동일/유사 사진 존재 |
| 손상된 사진 | `exclamationmark.triangle` | Red | 파일 손상 |
| 저화질 | `arrow.down.right.and.arrow.up.left` | Gray | 원본보다 낮은 품질 |

### 타이포그래피

- **제목**: SF Pro Display (Bold) - 화면 타이틀, 섹션 헤더
- **본문**: SF Pro Text (Regular) - 설명, 레이블
- **숫자**: SF Pro Rounded (Semibold) - 통계, 개수 표시
- **강조**: SF Pro Text (Semibold) - 중요 정보 하이라이트

### 간격 시스템

```swift
enum Spacing {
    static let xs: CGFloat = 4    // 밀접한 요소 간
    static let sm: CGFloat = 8    // 관련 요소 간
    static let md: CGFloat = 16   // 섹션 내 요소 간
    static let lg: CGFloat = 24   // 섹션 간
    static let xl: CGFloat = 32   // 주요 영역 간
}
```

---

## 인터랙션 패턴

### 선택 모드

```
일반 모드                    선택 모드
┌──────────┐                ┌──────────┐
│  📷      │  ─── 길게 탭 ──→  │ ✓ 📷    │
│          │                │          │
└──────────┘                └──────────┘
     │                           │
     ↓ 탭                        ↓ 탭
  상세 보기                    선택/해제
```

### 삭제 플로우

```
선택 완료
    │
    ▼
┌─────────────────────────────────────┐
│  "3장의 사진을 삭제할까요?"          │
│                                     │
│  이 사진들은 '최근 삭제된 항목'으로   │
│  이동되며, 30일 후 영구 삭제됩니다.  │
│                                     │
│  [취소]              [삭제]         │
└─────────────────────────────────────┘
    │
    ▼
완료 피드백 (햅틱 + 토스트)
```

### 피드백 시스템

| 동작 | 햅틱 | 시각 | 청각 |
|------|------|------|------|
| 선택 | Light | 체크 애니메이션 | - |
| 삭제 완료 | Success | 토스트 메시지 | - |
| 오류 | Error | 알림 팝업 | - |
| 스캔 완료 | Notification | 배지 업데이트 | 알림음 (선택) |

---

## 접근성 (Accessibility)

### 필수 요구사항

- **VoiceOver 완벽 지원**: 모든 UI 요소에 의미 있는 레이블
- **Dynamic Type**: 시스템 폰트 크기 설정 존중
- **고대비 모드**: 충분한 색상 대비 (WCAG AA 이상)
- **모션 감소**: `reduceMotion` 설정 시 애니메이션 최소화

### VoiceOver 레이블 예시

```swift
// ❌ 나쁜 예
Image(systemName: "trash")

// ✅ 좋은 예
Image(systemName: "trash")
    .accessibilityLabel("선택한 사진 삭제")
    .accessibilityHint("3장의 사진을 최근 삭제된 항목으로 이동합니다")
```

---

## 성능 원칙

### 반응성 목표

| 동작 | 목표 시간 | 전략 |
|------|----------|------|
| 앱 실행 | < 1초 | 지연 로딩, 캐싱 |
| 사진 목록 스크롤 | 60fps | 이미지 프리페칭, 셀 재사용 |
| 썸네일 로드 | < 100ms | 저해상도 우선 로드 |
| 문제 스캔 | 진행률 표시 | 백그라운드 처리, 증분 업데이트 |

### 메모리 관리

- 화면에 보이는 이미지만 고해상도 유지
- 스크롤 아웃된 이미지는 자동 해제
- 대용량 작업 시 autorelease pool 활용

---

## 에러 처리 철학

### 사용자 친화적 에러 메시지

```
❌ 기술적 에러:
"PHAsset request failed with error code -1"

✅ 사용자 친화적:
"사진을 불러올 수 없어요"
"iCloud 연결을 확인하고 다시 시도해 주세요"
[다시 시도] [나중에]
```

### 에러 복구 전략

1. **자동 재시도**: 일시적 네트워크 오류는 자동 재시도
2. **부분 성공**: 일부 실패해도 성공한 항목은 처리 완료
3. **상태 저장**: 중단된 작업은 이어서 진행 가능
4. **명확한 안내**: 사용자가 해결할 수 있는 액션 제시

---

## 디자인 체크리스트

새 기능 구현 시 확인할 항목:

- [ ] 사용자가 실수로 데이터를 잃을 가능성이 있는가?
- [ ] 비기술자도 이해할 수 있는 표현인가?
- [ ] 한 손으로 조작 가능한가?
- [ ] VoiceOver로 완전히 사용 가능한가?
- [ ] 오류 상황에서 다음 단계가 명확한가?
- [ ] 작업 진행 상태를 사용자가 알 수 있는가?
- [ ] 취소/되돌리기가 가능한가?
